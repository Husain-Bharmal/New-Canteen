{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_FOOD_REQUEST, ADD_FOOD_SUCCESS, ADD_FOOD_FAIL, GET_ALL_FOOD_ITEMS_REQUEST, GET_ALL_FOOD_ITEMS_SUCCESS, GET_ALL_FOOD_ITEMS_FAIL, GET_SINGLE_FOOD_ITEM_REQUEST, GET_SINGLE_FOOD_ITEM_SUCCESS, GET_SINGLE_FOOD_ITEM_FAIL, EDIT_FOOD_ITEM_REQUEST, EDIT_FOOD_ITEM_SUCCESS, EDIT_FOOD_ITEM_FAIL, DELETE_FOOD_ITEM_REQUEST, DELETE_FOOD_ITEM_SUCCESS, DELETE_FOOD_ITEM_FAIL } from \"./food.types\";\nimport { setAlert } from \"../alert/alert.actions\";\nexport const addFoodItem = (formData, history) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  };\n  try {\n    dispatch({\n      type: ADD_FOOD_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(\"/add\", formData, config);\n    dispatch({\n      type: ADD_FOOD_SUCCESS,\n      payload: data\n    });\n    dispatch(setAlert(\"Added food successfully\", \"success\"));\n    history.push(\"/\");\n  } catch (error) {\n    const errors = error.response.data.errors;\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    }\n    if (error.response.data.msg) {\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\n    }\n    dispatch({\n      type: ADD_FOOD_FAIL,\n      payload: error.message\n    });\n    console.log(error);\n  }\n};\nexport const getAllFoodItems = category => async dispatch => {\n  try {\n    dispatch({\n      type: GET_ALL_FOOD_ITEMS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/food/${category}`);\n    dispatch({\n      type: GET_ALL_FOOD_ITEMS_SUCCESS,\n      payload: data.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_ALL_FOOD_ITEMS_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const getSingleFoodItem = id => async dispatch => {\n  try {\n    dispatch({\n      type: GET_SINGLE_FOOD_ITEM_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/food-item/${id}`);\n    dispatch({\n      type: GET_SINGLE_FOOD_ITEM_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_SINGLE_FOOD_ITEM_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const editFoodItem = (formData, id, history) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  };\n  try {\n    dispatch({\n      type: EDIT_FOOD_ITEM_REQUEST\n    });\n    const {\n      data\n    } = await axios.put(`/edit/${id}`, formData, config);\n    dispatch({\n      type: EDIT_FOOD_ITEM_SUCCESS,\n      payload: data\n    });\n    dispatch(setAlert(\"Edit food done\", \"success\"));\n    history.push(\"/\");\n  } catch (error) {\n    console.log(error);\n    const errors = error.response.data.errors;\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    }\n    if (error.response.data.msg) {\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\n    }\n    dispatch({\n      type: EDIT_FOOD_ITEM_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const deleteFoodItem = id => async dispatch => {\n  try {\n    dispatch({\n      type: DELETE_FOOD_ITEM_REQUEST\n    });\n    await axios.delete(`/delete/${id}`);\n    dispatch({\n      type: DELETE_FOOD_ITEM_SUCCESS,\n      payload: id\n    });\n    dispatch(setAlert(\"Deleted food item successfully\", \"success\"));\n  } catch (error) {\n    console.log(error);\n    const errors = error.response.data.errors;\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    }\n    if (error.response.data.msg) {\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\n    }\n    dispatch({\n      type: DELETE_FOOD_ITEM_FAIL,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"names":["axios","ADD_FOOD_REQUEST","ADD_FOOD_SUCCESS","ADD_FOOD_FAIL","GET_ALL_FOOD_ITEMS_REQUEST","GET_ALL_FOOD_ITEMS_SUCCESS","GET_ALL_FOOD_ITEMS_FAIL","GET_SINGLE_FOOD_ITEM_REQUEST","GET_SINGLE_FOOD_ITEM_SUCCESS","GET_SINGLE_FOOD_ITEM_FAIL","EDIT_FOOD_ITEM_REQUEST","EDIT_FOOD_ITEM_SUCCESS","EDIT_FOOD_ITEM_FAIL","DELETE_FOOD_ITEM_REQUEST","DELETE_FOOD_ITEM_SUCCESS","DELETE_FOOD_ITEM_FAIL","setAlert","addFoodItem","formData","history","dispatch","config","headers","type","data","post","payload","push","error","errors","response","forEach","msg","message","console","log","getAllFoodItems","category","get","getSingleFoodItem","id","editFoodItem","put","deleteFoodItem","delete"],"sources":["C:/ReactProjects/CMS/New-Canteen/frontend/src/redux/food/food.actions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  ADD_FOOD_REQUEST,\r\n  ADD_FOOD_SUCCESS,\r\n  ADD_FOOD_FAIL,\r\n  GET_ALL_FOOD_ITEMS_REQUEST,\r\n  GET_ALL_FOOD_ITEMS_SUCCESS,\r\n  GET_ALL_FOOD_ITEMS_FAIL,\r\n  GET_SINGLE_FOOD_ITEM_REQUEST,\r\n  GET_SINGLE_FOOD_ITEM_SUCCESS,\r\n  GET_SINGLE_FOOD_ITEM_FAIL,\r\n  EDIT_FOOD_ITEM_REQUEST,\r\n  EDIT_FOOD_ITEM_SUCCESS,\r\n  EDIT_FOOD_ITEM_FAIL,\r\n  DELETE_FOOD_ITEM_REQUEST,\r\n  DELETE_FOOD_ITEM_SUCCESS,\r\n  DELETE_FOOD_ITEM_FAIL,\r\n} from \"./food.types\";\r\nimport { setAlert } from \"../alert/alert.actions\";\r\n\r\nexport const addFoodItem = (formData, history) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: ADD_FOOD_REQUEST });\r\n\r\n    const { data } = await axios.post(\"/add\", formData, config);\r\n\r\n    dispatch({ type: ADD_FOOD_SUCCESS, payload: data });\r\n    dispatch(setAlert(\"Added food successfully\", \"success\"));\r\n\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    const errors = error.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n    if (error.response.data.msg) {\r\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\r\n    }\r\n    dispatch({ type: ADD_FOOD_FAIL, payload: error.message });\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getAllFoodItems = (category) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_ALL_FOOD_ITEMS_REQUEST });\r\n\r\n    const { data } = await axios.get(`/food/${category}`);\r\n\r\n    dispatch({ type: GET_ALL_FOOD_ITEMS_SUCCESS, payload: data.data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: GET_ALL_FOOD_ITEMS_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const getSingleFoodItem = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_SINGLE_FOOD_ITEM_REQUEST });\r\n    const { data } = await axios.get(`/food-item/${id}`);\r\n    dispatch({ type: GET_SINGLE_FOOD_ITEM_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: GET_SINGLE_FOOD_ITEM_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const editFoodItem = (formData, id, history) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: EDIT_FOOD_ITEM_REQUEST });\r\n    const { data } = await axios.put(`/edit/${id}`, formData, config);\r\n    dispatch({ type: EDIT_FOOD_ITEM_SUCCESS, payload: data });\r\n    dispatch(setAlert(\"Edit food done\", \"success\"));\r\n\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    const errors = error.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n    if (error.response.data.msg) {\r\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\r\n    }\r\n    dispatch({ type: EDIT_FOOD_ITEM_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const deleteFoodItem = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_FOOD_ITEM_REQUEST });\r\n    await axios.delete(`/delete/${id}`);\r\n    dispatch({ type: DELETE_FOOD_ITEM_SUCCESS, payload: id });\r\n    dispatch(setAlert(\"Deleted food item successfully\", \"success\"));\r\n  } catch (error) {\r\n    console.log(error);\r\n    const errors = error.response.data.errors;\r\n\r\n    if (errors) {\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n    }\r\n    if (error.response.data.msg) {\r\n      dispatch(setAlert(error.response.data.msg, \"danger\"));\r\n    }\r\n\r\n    dispatch({ type: DELETE_FOOD_ITEM_FAIL, payload: error.message });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}